(()=>{var deferred,next,__webpack_modules__={"./packages/internal/storybook-addon-theme/src/lib/features/story-source-code/source-code-generator.worker.ts":(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";var ColorMode,ThemeId,asyncToGenerator=__webpack_require__("./node_modules/.pnpm/@babel+runtime@7.25.0/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),ejs=__webpack_require__("./node_modules/.pnpm/ejs@3.1.10/node_modules/ejs/lib/ejs.js"),ejs_default=__webpack_require__.n(ejs),angular=__webpack_require__("./node_modules/.pnpm/prettier@3.4.2/node_modules/prettier/plugins/angular.mjs"),babel=__webpack_require__("./node_modules/.pnpm/prettier@3.4.2/node_modules/prettier/plugins/babel.mjs"),estree=__webpack_require__("./node_modules/.pnpm/prettier@3.4.2/node_modules/prettier/plugins/estree.mjs"),html=__webpack_require__("./node_modules/.pnpm/prettier@3.4.2/node_modules/prettier/plugins/html.mjs"),markdown=__webpack_require__("./node_modules/.pnpm/prettier@3.4.2/node_modules/prettier/plugins/markdown.mjs"),postcss=__webpack_require__("./node_modules/.pnpm/prettier@3.4.2/node_modules/prettier/plugins/postcss.mjs"),typescript=__webpack_require__("./node_modules/.pnpm/prettier@3.4.2/node_modules/prettier/plugins/typescript.mjs"),standalone=__webpack_require__("./node_modules/.pnpm/prettier@3.4.2/node_modules/prettier/standalone.mjs"),dist=__webpack_require__("./node_modules/.pnpm/@shikijs+core@1.24.3/node_modules/@shikijs/core/dist/index.mjs"),engine_javascript_dist=__webpack_require__("./node_modules/.pnpm/@shikijs+engine-javascript@1.24.3/node_modules/@shikijs/engine-javascript/dist/index.mjs"),angular_html=__webpack_require__("./node_modules/.pnpm/shiki@1.24.3/node_modules/shiki/dist/langs/angular-html.mjs"),angular_ts=__webpack_require__("./node_modules/.pnpm/shiki@1.24.3/node_modules/shiki/dist/langs/angular-ts.mjs"),langs_html=__webpack_require__("./node_modules/.pnpm/shiki@1.24.3/node_modules/shiki/dist/langs/html.mjs"),javascript=__webpack_require__("./node_modules/.pnpm/shiki@1.24.3/node_modules/shiki/dist/langs/javascript.mjs"),json=__webpack_require__("./node_modules/.pnpm/shiki@1.24.3/node_modules/shiki/dist/langs/json.mjs"),scss=__webpack_require__("./node_modules/.pnpm/shiki@1.24.3/node_modules/shiki/dist/langs/scss.mjs"),shellscript=__webpack_require__("./node_modules/.pnpm/shiki@1.24.3/node_modules/shiki/dist/langs/shellscript.mjs"),tsx=__webpack_require__("./node_modules/.pnpm/shiki@1.24.3/node_modules/shiki/dist/langs/tsx.mjs"),langs_typescript=__webpack_require__("./node_modules/.pnpm/shiki@1.24.3/node_modules/shiki/dist/langs/typescript.mjs"),slack_dark=__webpack_require__("./node_modules/.pnpm/shiki@1.24.3/node_modules/shiki/dist/themes/slack-dark.mjs"),slack_ochin=__webpack_require__("./node_modules/.pnpm/shiki@1.24.3/node_modules/shiki/dist/themes/slack-ochin.mjs");!function(ColorMode){ColorMode.Light="light",ColorMode.Dark="dark"}(ColorMode||(ColorMode={})),function(ThemeId){ThemeId.CocoKits="cocokits",ThemeId.FramesX="frames-x"}(ThemeId||(ThemeId={})),self.onmessage=function(){var _ref=(0,asyncToGenerator.A)((function*(event){(function generateSourceCodeWorker(_x2){return _generateSourceCodeWorker.apply(this,arguments)})(event.data).then((result=>postMessage({status:"success",result}))).catch((error=>postMessage({status:"error",error:error.message})))}));return function(_x){return _ref.apply(this,arguments)}}();const SHIKI_LANGS_MAP={"angular-html":[angular_html.A],"angular-ts":[angular_ts.A],html:[langs_html.A],javascript:[javascript.A],json:[json.A],scss:[scss.A],shellscript:[shellscript.A],typescript:[langs_typescript.A],tsx:[tsx.A]},PRETTIER_PARSER_MAP={"angular-html":"angular","angular-ts":"typescript",html:"html",javascript:"babel",json:"json",scss:"scss",shellscript:"markdown",typescript:"typescript",tsx:"typescript"},PRETTIER_PLUGINS_MAP={"angular-html":[html.Ay,angular.A],"angular-ts":[estree.Ay,typescript.A,html.Ay,angular.A],html:[html.Ay],javascript:[estree.Ay,babel.A],json:[babel.A],scss:[postcss.Ay],shellscript:[markdown.Ay],typescript:[estree.Ay,typescript.A],tsx:[estree.Ay,typescript.A]};function _generateSourceCodeWorker(){return _generateSourceCodeWorker=(0,asyncToGenerator.A)((function*({sourceCodes,componentName,colorMode,args,theme}){const shikiThemeRegistration=colorMode===ColorMode.Dark?slack_dark.A:slack_ochin.A,shikiThemeName=colorMode===ColorMode.Dark?"slack-dark":"slack-ochin",highlighter=(0,dist.gX)({themes:[shikiThemeRegistration],langs:Object.values(SHIKI_LANGS_MAP).flat(),engine:(0,engine_javascript_dist.lf)()}),generatedSourceCode=yield Promise.all(sourceCodes.map(function(){var _ref2=(0,asyncToGenerator.A)((function*(sourceCode){const sourceCodeWithoutExtraSpace=sourceCode.code.replace(/\n\s*<%\s*}\s*%>/g,"<% } %>").replace(/\n\s*<%\s*}\)\s*%>/g,"<% }) %>").replace(/\n\s*<%(.*?)\{ %>/g," <% $1{ %>"),codeEjs=yield ejs_default().render(sourceCodeWithoutExtraSpace,{...args,themeId:theme.id,themeDisplayName:theme.displayName,themeSelectedModes:theme.selectedModes,themeComponentConfig:theme.themeConfig.components[componentName]},{async:!0}),codePrettier=yield standalone.Ay.format(codeEjs,{parser:PRETTIER_PARSER_MAP[sourceCode.language],plugins:PRETTIER_PLUGINS_MAP[sourceCode.language]});return{code:codePrettier,html:highlighter.codeToHtml(codePrettier,{lang:sourceCode.language,theme:shikiThemeName}),fileName:sourceCode.filename}}));return function(_x3){return _ref2.apply(this,arguments)}}()));return highlighter.dispose(),generatedSourceCode})),_generateSourceCodeWorker.apply(this,arguments)}},"?afc9":()=>{}},__webpack_module_cache__={};function __webpack_require__(moduleId){var cachedModule=__webpack_module_cache__[moduleId];if(void 0!==cachedModule)return cachedModule.exports;var module=__webpack_module_cache__[moduleId]={exports:{}};return __webpack_modules__[moduleId](module,module.exports,__webpack_require__),module.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.x=()=>{var __webpack_exports__=__webpack_require__.O(void 0,[868,734],(()=>__webpack_require__("./packages/internal/storybook-addon-theme/src/lib/features/story-source-code/source-code-generator.worker.ts")));return __webpack_exports__=__webpack_require__.O(__webpack_exports__)},deferred=[],__webpack_require__.O=(result,chunkIds,fn,priority)=>{if(!chunkIds){var notFulfilled=1/0;for(i=0;i<deferred.length;i++){for(var[chunkIds,fn,priority]=deferred[i],fulfilled=!0,j=0;j<chunkIds.length;j++)(!1&priority||notFulfilled>=priority)&&Object.keys(__webpack_require__.O).every((key=>__webpack_require__.O[key](chunkIds[j])))?chunkIds.splice(j--,1):(fulfilled=!1,priority<notFulfilled&&(notFulfilled=priority));if(fulfilled){deferred.splice(i--,1);var r=fn();void 0!==r&&(result=r)}}return result}priority=priority||0;for(var i=deferred.length;i>0&&deferred[i-1][2]>priority;i--)deferred[i]=deferred[i-1];deferred[i]=[chunkIds,fn,priority]},__webpack_require__.n=module=>{var getter=module&&module.__esModule?()=>module.default:()=>module;return __webpack_require__.d(getter,{a:getter}),getter},__webpack_require__.d=(exports,definition)=>{for(var key in definition)__webpack_require__.o(definition,key)&&!__webpack_require__.o(exports,key)&&Object.defineProperty(exports,key,{enumerable:!0,get:definition[key]})},__webpack_require__.f={},__webpack_require__.e=chunkId=>Promise.all(Object.keys(__webpack_require__.f).reduce(((promises,key)=>(__webpack_require__.f[key](chunkId,promises),promises)),[])),__webpack_require__.u=chunkId=>chunkId+"."+{734:"dcefe15e",868:"7f3998dc"}[chunkId]+".iframe.bundle.js",__webpack_require__.miniCssF=chunkId=>{},__webpack_require__.o=(obj,prop)=>Object.prototype.hasOwnProperty.call(obj,prop),__webpack_require__.r=exports=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.p="",(()=>{var installedChunks={214:1};__webpack_require__.f.i=(chunkId,promises)=>{installedChunks[chunkId]||importScripts(__webpack_require__.p+__webpack_require__.u(chunkId))};var chunkLoadingGlobal=self.webpackChunkcocokits=self.webpackChunkcocokits||[],parentChunkLoadingFunction=chunkLoadingGlobal.push.bind(chunkLoadingGlobal);chunkLoadingGlobal.push=data=>{var[chunkIds,moreModules,runtime]=data;for(var moduleId in moreModules)__webpack_require__.o(moreModules,moduleId)&&(__webpack_require__.m[moduleId]=moreModules[moduleId]);for(runtime&&runtime(__webpack_require__);chunkIds.length;)installedChunks[chunkIds.pop()]=1;parentChunkLoadingFunction(data)}})(),next=__webpack_require__.x,__webpack_require__.x=()=>Promise.all([__webpack_require__.e(868),__webpack_require__.e(734)]).then(next);__webpack_require__.x()})();